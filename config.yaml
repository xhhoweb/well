# WellCMS Go Headless Configuration

# Database Configuration (MySQL)
database:
  host: "104.194.69.13"
  port: 3303
  username: "go_wellcms"
  password: "4f4xhHrMLHwXdxm8"
  name: "go_wellcms"
  max_open_conns: 25
  max_idle_conns: 10
  conn_max_lifetime: 300  # seconds

# Redis Configuration (L2 Cache)
redis:
  host: "104.194.69.13"
  port: 6370
  password: "10010"
  db: 0
  pool_size: 10

# Application Configuration
app:
  host: "0.0.0.0"
  port: 8080
  mode: "release"  # debug, release, test
  read_timeout: 30      # 请求读取超时 (秒)
  write_timeout: 30     # 响应写入超时 (秒)
  idle_timeout: 120     # 空闲连接超时 (秒)

# JWT Configuration
jwt:
  secret: "your-jwt-secret-key-change-in-production"
  expiry: 86400         # Token 过期时间 (秒) - 默认 24 小时
  refresh_expiry: 604800  # Refresh Token 过期时间 (秒) - 默认 7 天

# Cache Configuration
cache:
  l1_cap: 1000  # L1 cache capacity
  l2_ttl: 3600   # Redis TTL (seconds)

# Snowflake Configuration
snowflake:
  worker_id: 0
  datacenter_id: 0

# Logging Configuration
logging:
  level: "info"  # debug, info, warn, error
  output: "stdout"  # stdout, file
  filename: "logs/app.log"
  max_size: 100  # MB
  max_age: 7     # days
  max_backups: 3

# Security Configuration (最重要!)
security:
  # IP 白名单 - 仅允许这些 IP 访问管理接口
  # 格式: IP 地址或 CIDR (如 192.168.1.0/24)
  # 强烈建议: 只保留 127.0.0.1 和 localhost
  allow_ips:
    - "127.0.0.1"
    - "localhost"
    - "192.168.1.0/24"
  # 示例: 局域网       # 示例: 特定 IP

  # IP 黑名单 - 拒绝这些 IP 访问
  deny_ips: []

  # API 频率限制 (次/分钟)
  # 0 表示不限制
  rate_limit: 100

  # CORS 配置
  cors:
    # 是否启用 CORS
    enabled: true
    # 允许的来源域名列表
    # 空列表表示允许所有来源，生产环境建议配置具体域名
    allowed_origins:
      - "http://localhost:3000"
      - "http://localhost:8080"
      - "http://127.0.0.1:8080"
    # 是否允许携带凭证 (cookies, authorization headers)
    allow_credentials: true
    # 预检请求缓存时间 (秒)
    max_age: 86400
    # 允许的 HTTP 方法
    allowed_methods:
      - "GET"
      - "POST"
      - "PUT"
      - "DELETE"
      - "PATCH"
      - "OPTIONS"
    # 允许的 HTTP 头
    allowed_headers:
      - "Content-Type"
      - "Authorization"
      - "X-Requested-With"
      - "Accept"
      - "Origin"
